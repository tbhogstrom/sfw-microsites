---
/**
 * LinkCard.astro - Generic clickable card component
 * Versatile card that can link to internal or external pages
 */
import type { BaseProps } from '@sfw/ui/types';
import Icon from './Icon.astro';

export interface Props extends BaseProps {
  href: string;
  title: string;
  description?: string;
  icon?: 'phone' | 'email' | 'arrow-right' | 'check';
  target?: '_self' | '_blank';
  variant?: 'default' | 'bordered' | 'elevated';
}

const {
  href,
  title,
  description,
  icon,
  target = '_self',
  variant = 'default',
  class: className = '',
  ...rest
} = Astro.props;

const variantClasses = {
  default: 'bg-white hover:bg-gray-50',
  bordered: 'bg-white border-2 border-gray-200 hover:border-primary',
  elevated: 'bg-white shadow-lg hover:shadow-xl',
};

const classes = [
  'block p-6 rounded-lg transition-all duration-200 group',
  variantClasses[variant],
  className,
].filter(Boolean).join(' ');
---

<a
  href={href}
  target={target}
  class={classes}
  rel={target === '_blank' ? 'noopener noreferrer' : undefined}
  {...rest}
>
  <div class="flex items-start justify-between">
    <div class="flex-1">
      <h3 class="text-xl font-heading font-bold text-dark mb-2 group-hover:text-primary transition-colors">
        {title}
      </h3>

      {description && (
        <p class="text-gray-600">
          {description}
        </p>
      )}
    </div>

    {icon && (
      <Icon
        name={icon}
        size={24}
        class="ml-4 text-primary group-hover:translate-x-1 transition-transform flex-shrink-0"
      />
    )}
  </div>

  <slot />
</a>
