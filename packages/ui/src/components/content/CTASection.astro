---
/**
 * CTASection.astro - Call-to-action section
 * Full-width CTA with headline, description, and action buttons
 */
import type { BaseProps } from '@sfw/ui/types';
import Button from '../ui/Button.astro';

export interface Props extends BaseProps {
  headline: string;
  description?: string;
  primaryCTA?: { text: string; href: string };
  secondaryCTA?: { text: string; href: string };
  variant?: 'primary' | 'secondary' | 'dark';
  centered?: boolean;
}

const {
  headline,
  description,
  primaryCTA,
  secondaryCTA,
  variant = 'primary',
  centered = true,
  class: className = '',
  ...rest
} = Astro.props;

const variantClasses = {
  primary: 'bg-primary text-white',
  secondary: 'bg-secondary text-white',
  dark: 'bg-dark text-white',
};

const classes = [
  'py-16 md:py-24',
  variantClasses[variant],
  className,
].filter(Boolean).join(' ');

const contentClasses = [
  'container mx-auto px-4',
  centered && 'text-center',
].filter(Boolean).join(' ');
---

<section class={classes} {...rest}>
  <div class={contentClasses}>
    <h2 class="text-3xl md:text-4xl lg:text-5xl font-heading font-bold mb-6 max-w-4xl mx-auto">
      {headline}
    </h2>

    {description && (
      <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto">
        {description}
      </p>
    )}

    {(primaryCTA || secondaryCTA) && (
      <div class={`flex flex-col sm:flex-row gap-4 ${centered ? 'justify-center' : ''}`}>
        {primaryCTA && (
          <Button
            href={primaryCTA.href}
            variant={variant === 'primary' ? 'secondary' : 'primary'}
            size="lg"
          >
            {primaryCTA.text}
          </Button>
        )}
        {secondaryCTA && (
          <Button
            href={secondaryCTA.href}
            variant="outline"
            size="lg"
          >
            {secondaryCTA.text}
          </Button>
        )}
      </div>
    )}

    <!-- Optional slot for additional content -->
    <slot />
  </div>
</section>
